(window.webpackJsonp=window.webpackJsonp||[]).push([[105],{433:function(e,t,s){"use strict";var a=s(2),r=s.n(a),n=s(567),l=s.n(n);l.a.HeaderCell.prototype.render=function(){this.$el.empty();var e,t=this.column;return e=l.a.callByNeed(t.sortable(),t,this.collection)?r()("<a>").text(t.get("label")).append("<b class='sort-caret'></b>"):document.createTextNode(t.get("label")),this.$el.append(e),this.$el.attr("data-field",t.get("name")),this.$el.addClass(t.get("direction")),this.delegateEvents(),this},t.a=l.a},434:function(e,t,s){"use strict";s(29),s(30),s(31),s(39),s(101),s(129),s(102),s(22),s(110),s(50),s(15),s(130),s(28),s(26),s(40),s(236),s(569);var a=s(0),r=s.n(a),n=s(2),l=s.n(n),i=s(433);i.a.Extension.ThemeableServerSideFilter=i.a.Extension.ServerSideFilter.extend({events:r.a.extend(i.a.Extension.ServerSideFilter.prototype.events,{"keyup input[type=search]":"keyupSearch"}),keyupSearch:function(e){e.preventDefault(),this.showClearButtonMaybe(e),this.minimumSearchChars&&l()(e.target).val().length>=this.minimumSearchChars&&this.search(e)},className:"form-group has-feedback",template:function(e){var t=e.placeholder?'placeholder="'.concat(e.placeholder,'"'):"",s=e.value?'value="'.concat(e.value,'"'):"";return'<input class="form-control input-sm" type="search" '.concat(t,' name="').concat(e.name,'" ').concat(s,"/>")+"<a class='fa fa-times form-control-feedback' data-backgrid-action='clear' role='button' href='#'></a>"}});i.a.Extension.ThemeableServerSideFilter;var o=s(73),c=s.n(o),u=s(432),d=s.n(u),h=s(86),m=s(23);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p={};p.DatetimeAgoCell=i.a.Cell.extend({className:"date-time-ago-cell",formatter:{fromRaw:function(e){return d()(e).fromNow()}},render:function(){return p.DatetimeAgoCell.__super__.render.apply(this),this.$el.attr("title",d()(this.model.get(this.column.get("name"))).format("Do MMMM YYYY, h:mm:ssa")),this}}),p.ArrayCell=i.a.Cell.extend({className:"array-formatter-cell",buildHtml:function(e){for(var t="<ul>",s=0;s<e.length;s++)r.a.isString(e[s])?t+="<li>".concat(e[s],"</li>"):t+="<li>".concat(JSON.stringify(e[s]),"</li>");return t+="</ul>"},render:function(){this.$el.empty();var e=this.model.get(this.column.attributes.name);return this.$el.append(this.buildHtml(e)),this.delegateEvents(),this}}),p.ObjectCell=i.a.Cell.extend({className:"object-formatter-cell",render:function(){this.$el.empty();var e,t=this.model.get(this.column.attributes.name),s='<dl class="dl-horizontal">';for(e in t)r.a.isString(t[e])?s+="<dt>".concat(e,"</dt><dd>").concat(t[e],"</dd>"):s+="<dt>".concat(e,"</dt><dd>").concat(JSON.stringify(t[e]),"</dd>");return s+="</dl>",this.$el.append(s),this.delegateEvents(),this}}),p.UniversalIdToUsername=i.a.Cell.extend({formatter:{fromRaw:function(e){return e.substring(3,e.indexOf(",ou=user"))}},render:function(){return p.UniversalIdToUsername.__super__.render.apply(this),this.$el.attr("title",this.model.get(this.column.get("name"))),this}}),p.ClickableRow=i.a.Row.extend({events:{click:"onClick",keyup:"onKeyup"},onKeyup:function(e){13===e.keyCode&&this.callback&&this.callback(e)},onClick:function(e){this.callback&&this.callback(e)}}),p.TemplateCell=i.a.Cell.extend({className:"template-cell",render:function(){var e=this.template(this.model);return this.$el.html(e),this.rendered&&this.rendered(),this.delegateEvents(),this}}),p.ClassHeaderCell=i.a.HeaderCell.extend({className:"",render:function(){return p.ClassHeaderCell.__super__.render.apply(this),this.delegateEvents(),this}}),p.UriExtCell=i.a.UriCell.extend({events:{click:"gotoUrl"},render:function(){this.$el.empty();var e=this.model.get(this.column.get("name")),t=this.formatter.fromRaw(e,this.model),s=r.a.isFunction(this.column.get("href"))?this.column.get("href")(e,t,this.model):this.column.get("href");return this.$el.append(l()("<a>",{href:s||e,title:this.title||t}).text(t)),s&&(this.$el.data("href",s),this.$el.prop("title",this.title||t)),this.delegateEvents(),this},gotoUrl:function(e){e.preventDefault();var t=l()(e.currentTarget).data("href");m.a.navigate(t,{trigger:!0})}}),p.FilterHeaderCell=i.a.HeaderCell.extend({className:"filter-header-cell enable-pointer",render:function(){var e=new i.a.Extension.ThemeableServerSideFilter({name:this.column.get("name"),placeholder:l.a.t("common.form.filter"),collection:this.collection});return this.addClassName&&this.$el.addClass(this.addClassName),this.collection.state.filters=this.collection.state.filters?this.collection.state.filters:[],this.collection.state.filters.push(e),p.FilterHeaderCell.__super__.render.apply(this),this.$el.prepend(e.render().el),this}}),p.queryFilter=function(e){void 0===e&&(e={});var t=[],s=e._queryFilter||[],a=e&&e.filterName&&"eq"===e.filterName?function(e,t){return"".concat(e,"+eq+").concat(encodeURIComponent('"*'.concat(t,'*"')))}:function(e,t){return"".concat(e,"+co+").concat(encodeURIComponent('"'.concat(t,'"')))};return r.a.each(this.state.filters,function(e){""!==e.query()&&t.push(a(e.name,e.query()))}),0===(t=t.concat(s)).length||t.join("+AND+")},p.parseState=function(e){return this.state.totalRecords||(this.state.totalRecords=e.remainingPagedResults+e.resultCount),this.state.totalPages||(this.state.totalPages=Math.ceil(this.state.totalRecords/this.state.pageSize)),this.state},p.pagedResultsOffset=function(){return(this.state.currentPage-1)*this.state.pageSize},p.sortKeys=function(){return 1===this.state.order?"-".concat(this.state.sortKey):this.state.sortKey},p.sync=function(e,t,s){var a=[],n=["_pageSize","_pagedResultsOffset","_sortKeys"];return"*"===s.data._queryId&&!0===s.data._queryFilter?n.push("_queryId"):n.push("_queryFilter"),r.a.forIn(s.data,function(e,t){r.a.includes(n,t)&&a.push("".concat(t,"=").concat(e))}),s.data=a.join("&"),s.processData=!1,s.beforeSend||(s.beforeSend=function(e){e.setRequestHeader("Accept-API-Version","protocol=1.0,resource=1.0")}),s.error=function(e){h.a.addMessage({type:h.a.TYPE_DANGER,response:e})},c.a.sync(e,t,s)},p.parseRecords=function(e){return e.result},p.getQueryParams=function(e){return e=e||{},{_sortKeys:this.sortKeys,_queryFilter:function(){return p.queryFilter.call(this,e)},pageSize:"_pageSize",_pagedResultsOffset:this.pagedResultsOffset}},p.doubleSortFix=function(e){var t=e.cid,s=e.collection.filter(function(e){return e.cid!==t});r.a.each(s,function(e){e.set("direction",null)})},p.getState=function(e){var t={pageSize:20,sortKey:"name"};return e&&"object"===f(e)&&r.a.extend(t,e),t};t.a=p},566:function(e,t,s){"use strict";s(109),s(576);var a=s(2),r=s.n(a),n=s(433);n.a.Extension.ThemeablePaginator=n.a.Extension.Paginator.extend({className:"text-center",controls:{rewind:{label:"&laquo;",title:r.a.t("common.grid.pagination.first")},back:{label:"&lsaquo;",title:r.a.t("common.grid.pagination.previous")},forward:{label:"&rsaquo;",title:r.a.t("common.grid.pagination.next")},fastForward:{label:"&raquo;",title:r.a.t("common.grid.pagination.last")}},ulClassName:"pagination",render:function(){return n.a.Extension.Paginator.prototype.render.call(this),this.ulClassName&&this.$el.find("ul").addClass(this.ulClassName),this}});n.a.Extension.ThemeablePaginator},570:function(e,t,s){var a={"./af":436,"./af.js":436,"./ar":437,"./ar-dz":438,"./ar-dz.js":438,"./ar-kw":439,"./ar-kw.js":439,"./ar-ly":440,"./ar-ly.js":440,"./ar-ma":441,"./ar-ma.js":441,"./ar-sa":442,"./ar-sa.js":442,"./ar-tn":443,"./ar-tn.js":443,"./ar.js":437,"./az":444,"./az.js":444,"./be":445,"./be.js":445,"./bg":446,"./bg.js":446,"./bm":447,"./bm.js":447,"./bn":448,"./bn.js":448,"./bo":449,"./bo.js":449,"./br":450,"./br.js":450,"./bs":451,"./bs.js":451,"./ca":452,"./ca.js":452,"./cs":453,"./cs.js":453,"./cv":454,"./cv.js":454,"./cy":455,"./cy.js":455,"./da":456,"./da.js":456,"./de":457,"./de-at":458,"./de-at.js":458,"./de-ch":459,"./de-ch.js":459,"./de.js":457,"./dv":460,"./dv.js":460,"./el":461,"./el.js":461,"./en-SG":462,"./en-SG.js":462,"./en-au":463,"./en-au.js":463,"./en-ca":464,"./en-ca.js":464,"./en-gb":465,"./en-gb.js":465,"./en-ie":466,"./en-ie.js":466,"./en-il":467,"./en-il.js":467,"./en-nz":468,"./en-nz.js":468,"./eo":469,"./eo.js":469,"./es":470,"./es-do":471,"./es-do.js":471,"./es-us":472,"./es-us.js":472,"./es.js":470,"./et":473,"./et.js":473,"./eu":474,"./eu.js":474,"./fa":475,"./fa.js":475,"./fi":476,"./fi.js":476,"./fo":477,"./fo.js":477,"./fr":478,"./fr-ca":479,"./fr-ca.js":479,"./fr-ch":480,"./fr-ch.js":480,"./fr.js":478,"./fy":481,"./fy.js":481,"./ga":482,"./ga.js":482,"./gd":483,"./gd.js":483,"./gl":484,"./gl.js":484,"./gom-latn":485,"./gom-latn.js":485,"./gu":486,"./gu.js":486,"./he":487,"./he.js":487,"./hi":488,"./hi.js":488,"./hr":489,"./hr.js":489,"./hu":490,"./hu.js":490,"./hy-am":491,"./hy-am.js":491,"./id":492,"./id.js":492,"./is":493,"./is.js":493,"./it":494,"./it-ch":495,"./it-ch.js":495,"./it.js":494,"./ja":496,"./ja.js":496,"./jv":497,"./jv.js":497,"./ka":498,"./ka.js":498,"./kk":499,"./kk.js":499,"./km":500,"./km.js":500,"./kn":501,"./kn.js":501,"./ko":502,"./ko.js":502,"./ku":503,"./ku.js":503,"./ky":504,"./ky.js":504,"./lb":505,"./lb.js":505,"./lo":506,"./lo.js":506,"./lt":507,"./lt.js":507,"./lv":508,"./lv.js":508,"./me":509,"./me.js":509,"./mi":510,"./mi.js":510,"./mk":511,"./mk.js":511,"./ml":512,"./ml.js":512,"./mn":513,"./mn.js":513,"./mr":514,"./mr.js":514,"./ms":515,"./ms-my":516,"./ms-my.js":516,"./ms.js":515,"./mt":517,"./mt.js":517,"./my":518,"./my.js":518,"./nb":519,"./nb.js":519,"./ne":520,"./ne.js":520,"./nl":521,"./nl-be":522,"./nl-be.js":522,"./nl.js":521,"./nn":523,"./nn.js":523,"./pa-in":524,"./pa-in.js":524,"./pl":525,"./pl.js":525,"./pt":526,"./pt-br":527,"./pt-br.js":527,"./pt.js":526,"./ro":528,"./ro.js":528,"./ru":529,"./ru.js":529,"./sd":530,"./sd.js":530,"./se":531,"./se.js":531,"./si":532,"./si.js":532,"./sk":533,"./sk.js":533,"./sl":534,"./sl.js":534,"./sq":535,"./sq.js":535,"./sr":536,"./sr-cyrl":537,"./sr-cyrl.js":537,"./sr.js":536,"./ss":538,"./ss.js":538,"./sv":539,"./sv.js":539,"./sw":540,"./sw.js":540,"./ta":541,"./ta.js":541,"./te":542,"./te.js":542,"./tet":543,"./tet.js":543,"./tg":544,"./tg.js":544,"./th":545,"./th.js":545,"./tl-ph":546,"./tl-ph.js":546,"./tlh":547,"./tlh.js":547,"./tr":548,"./tr.js":548,"./tzl":549,"./tzl.js":549,"./tzm":550,"./tzm-latn":551,"./tzm-latn.js":551,"./tzm.js":550,"./ug-cn":552,"./ug-cn.js":552,"./uk":553,"./uk.js":553,"./ur":554,"./ur.js":554,"./uz":555,"./uz-latn":556,"./uz-latn.js":556,"./uz.js":555,"./vi":557,"./vi.js":557,"./x-pseudo":558,"./x-pseudo.js":558,"./yo":559,"./yo.js":559,"./zh-cn":560,"./zh-cn.js":560,"./zh-hk":561,"./zh-hk.js":561,"./zh-tw":562,"./zh-tw.js":562};function r(e){var t=n(e);return s(t)}function n(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=n,e.exports=r,r.id=570},666:function(e,t,s){"use strict";s.r(t);s(39),s(109),s(574),s(566);var a=s(0),r=s.n(a),n=s(2),l=s.n(n),i=s(73),o=s.n(i),c=s(106),u=s(433),d=s(434),h=s(3),m=s(5),f=s(134),p=c.a.extend({template:"user/uma/views/history/ListHistory",baseTemplate:"common/DefaultBaseTemplate",events:{},render:function(){var e=this,t=new(o.a.PageableCollection.extend({url:"".concat(m.a.context,"/json").concat(Object(f.a)("/users/".concat(h.a.loggedUser.get("username"),"/uma/auditHistory"))),state:{pageSize:10,sortKey:"eventTime",order:1},queryParams:{pageSize:"_pageSize",_sortKeys:d.a.sortKeys,_queryFilter:d.a.queryFilter,_pagedResultsOffset:d.a.pagedResultsOffset},parseState:d.a.parseState,parseRecords:d.a.parseRecords,sync:d.a.sync})),s=new u.a.Grid({columns:[{name:"requestingPartyName",label:l.a.t("uma.history.grid.header.0"),headerCell:d.a.FilterHeaderCell,cell:"string",editable:!1,sortType:"toggle"},{name:"resourceSetName",label:l.a.t("uma.history.grid.header.1"),headerCell:d.a.FilterHeaderCell,cell:d.a.UriExtCell,href:function(e,t,s){return"#uma/resources/myresources/all/".concat(encodeURIComponent(s.get("resourceSetId")))},editable:!1,sortType:"toggle"},{name:"type",label:l.a.t("uma.history.grid.header.2"),cell:"string",formatter:r.a.extend({},u.a.CellFormatter.prototype,{fromRaw:function(e){return l.a.t("uma.history.grid.types.".concat(e.toLowerCase()))}}),editable:!1,sortType:"toggle"},{name:"eventTime",label:l.a.t("uma.history.grid.header.3"),cell:d.a.DatetimeAgoCell,editable:!1,sortType:"toggle"}],emptyText:l.a.t("console.common.noResults"),className:"backgrid table",collection:t});t.on("backgrid:sort",d.a.doubleSortFix);var a=new u.a.Extension.ThemeablePaginator({collection:t,windowSize:3});this.parentRender(function(){e.$el.find(".table-container").append(s.render().el),e.$el.find(".panel-body").append(a.render().el),t.fetch({processData:!1,reset:!0})})}});t.default=new p}}]);
//# sourceMappingURL=105.4631dc2d07.js.map